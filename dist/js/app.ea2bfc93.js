(function(t){function e(e){for(var n,r,l=e[0],s=e[1],c=e[2],u=0,v=[];u<l.length;u++)r=l[u],a[r]&&v.push(a[r][0]),a[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);d&&d(e);while(v.length)v.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,l=1;l<i.length;l++){var s=i[l];0!==a[s]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={app:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=s;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var n=i("2b0e"),a=i("bb71");i("da64");n["a"].use(a["a"],{iconfont:"md"});var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("v-layout",{attrs:{row:""}},[i("v-toolbar",{attrs:{color:"blue darken-3",dark:"",app:"",fixed:""}},[i("v-toolbar-side-icon"),i("v-toolbar-title",{staticClass:"ml-0 pl-3",staticStyle:{width:"300px"}},[i("span",{staticClass:"hidden-sm-and-down"},[t._v("Система учёта персонала")])]),i("v-spacer"),i("v-spacer"),i("v-btn",{attrs:{icon:""}},[i("v-icon",[t._v("search")])],1),i("v-btn",{attrs:{icon:""}},[i("v-icon",[t._v("view_module")])],1)],1),i("v-content",[i("PersonsList")],1)],1)],1)},r=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-layout",{attrs:{"align-center":"","justify-center":""}},[t.items.length?i("v-list",{attrs:{"two-line":""}},t._l(t.items,function(e){return i("ListItem",{key:e.id,attrs:{item:e},on:{edit:t.editItem,archive:t.archiveItem}})}),1):i("p",[t._v("\n        Список сотрудников пуст.\n      ")]),i("v-btn",{attrs:{color:"pink",dark:"",fab:"",bottom:"",right:"",fixed:""},on:{click:t.addItem}},[i("v-icon",[t._v("add")])],1),i("Form",{ref:"add_form"}),i("Form",{ref:"edit_form",attrs:{edit_mode:""},on:{remove:t.removeItem}})],1)],1)},s=[],c=(i("28a5"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-list-tile",{attrs:{avatar:""},on:{click:function(t){}}},[i("v-list-tile-avatar",{on:{click:function(e){t.$emit("edit",t.item.id)}}},[i("v-icon",{class:[t.item.iconClass]},[t._v(t._s(t.item.icon))])],1),i("v-list-tile-content",[i("v-list-tile-title",[t._v(t._s(t.item.title))]),i("v-list-tile-sub-title",[t._v(t._s(t.item.subtitle))])],1),i("v-list-tile-action",[i("v-btn",{attrs:{icon:""},on:{click:function(e){t.$emit("archive",t.item.id)}}},[i("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("info")])],1)],1)],1)}),d=[],u={props:{item:{type:Object,required:!0}}},v=u,f=i("2877"),m=i("6544"),p=i.n(m),b=i("8336"),h=i("132d"),_=i("ba95"),x=i("40fe"),g=i("c954"),k=i("5d23"),V=Object(f["a"])(v,c,d,!1,null,null,null);V.options.__file="ListItem.vue";var y=V.exports;p()(V,{VBtn:b["a"],VIcon:h["a"],VListTile:_["a"],VListTileAction:x["a"],VListTileAvatar:g["a"],VListTileContent:k["a"],VListTileSubTitle:k["b"],VListTileTitle:k["c"]});var j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[t.edit_mode?i("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:t.close}},[i("v-icon",[t._v("close")])],1),i("v-toolbar-title",[t._v("Редактирование сотрудника")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:t.save}},[t._v("Сохранить")])],1)],1):i("v-toolbar",{attrs:{dark:"",color:"blue darken-3"}},[i("v-btn",{attrs:{icon:"",dark:""},on:{click:t.close}},[i("v-icon",[t._v("close")])],1),i("v-toolbar-title",[t._v("Добавление сотрудника")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},on:{click:t.create}},[t._v("Создать")])],1)],1),i("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-text-field",{attrs:{rules:t.fieldRules,label:"Имя",required:""},model:{value:t.item.first_name,callback:function(e){t.$set(t.item,"first_name",e)},expression:"item.first_name"}})],1),i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-text-field",{attrs:{rules:t.fieldRules,label:"Отчество",required:""},model:{value:t.item.second_name,callback:function(e){t.$set(t.item,"second_name",e)},expression:"item.second_name"}})],1),i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-text-field",{attrs:{rules:t.fieldRules,label:"Фамилия",required:""},model:{value:t.item.last_name,callback:function(e){t.$set(t.item,"last_name",e)},expression:"item.last_name"}})],1),i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-select",{attrs:{items:t.sex_items,rules:t.fieldRules,label:"Пол",required:""},model:{value:t.item.sex,callback:function(e){t.$set(t.item,"sex",e)},expression:"item.sex"}})],1),i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-text-field",{attrs:{rules:t.fieldRules,label:"Дата рождения",required:""},model:{value:t.item.birthday,callback:function(e){t.$set(t.item,"birthday",e)},expression:"item.birthday"}})],1),i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-select",{attrs:{items:t.dpt_items,rules:t.fieldRules,label:"Отдел",required:""},model:{value:t.item.dpt,callback:function(e){t.$set(t.item,"dpt",e)},expression:"item.dpt"}})],1),i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-text-field",{attrs:{rules:t.fieldRules,label:"Должность",required:""},model:{value:t.item.position,callback:function(e){t.$set(t.item,"position",e)},expression:"item.position"}})],1),i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-checkbox",{attrs:{label:"В архиве"},model:{value:t.item.is_archive,callback:function(e){t.$set(t.item,"is_archive",e)},expression:"item.is_archive"}})],1),t.edit_mode?i("v-flex",{attrs:{xs12:"",md4:""}},[i("v-btn",{attrs:{dark:"",color:"red"},on:{click:function(e){t.$emit("remove",t.item.id)}}},[i("v-icon",[t._v("delete")]),t._v(" Удалить\n                ")],1)],1):t._e()],1)],1)],1)],1)],1)},w=[],T=(i("7f7f"),{props:{edit_mode:{type:Boolean}},data:function(){return{dialog:!1,valid:!1,item:{first_name:"",second_name:"",last_name:"",sex:null,birthday:"",dpt:null,position:"",is_archive:!1},fieldRules:[function(t){return!!t||"Обязательное поле"}],sex_items:[{text:"Мужской",value:"М"},{text:"Женский",value:"Ж"}],dpt_items:[]}},methods:{set:function(t){var e=this,i="http://localhost:8000/api/person/"+t;fetch(i).then(function(t){return t.json()}).then(function(t){e.item=t,e.item.dpt=t.dpt.id,e.item.birthday=t.birthday.split("-").reverse().join(".")})},show:function(){this.dialog=!0},close:function(){this.dialog=!1},create:function(){console.log("create dialog")},save:function(){console.log("save dialog")}},created:function(){var t=this,e="http://localhost:8000/api/dpt";fetch(e).then(function(t){return t.json()}).then(function(e){for(var i=[],n=e.length,a=0;a<n;a++)i.push({text:e[a].name,value:e[a].id});t.dpt_items=i})}}),$=T,I=i("b0af"),L=i("ac7c"),O=i("a523"),S=i("169a"),C=i("0e8f"),P=i("4bd4"),q=i("a722"),R=i("b56d"),F=i("9910"),A=i("2677"),B=i("71d9"),E=i("2a7f"),M=Object(f["a"])($,j,w,!1,null,null,null);M.options.__file="Form.vue";var J=M.exports;p()(M,{VBtn:b["a"],VCard:I["a"],VCheckbox:L["a"],VContainer:O["a"],VDialog:S["a"],VFlex:C["a"],VForm:P["a"],VIcon:h["a"],VLayout:q["a"],VSelect:R["a"],VSpacer:F["a"],VTextField:A["a"],VToolbar:B["a"],VToolbarItems:E["a"],VToolbarTitle:E["b"]});var D={components:{ListItem:y,Form:J},data:function(){return{items:[]}},methods:{addItem:function(){console.log("add"),this.$refs.add_form.show()},editItem:function(t){console.log("edit",t),this.$refs.edit_form.set(t),this.$refs.edit_form.show()},removeItem:function(t){console.log("remove",t)},archiveItem:function(t){console.log("archive",t)}},created:function(){var t=this,e="http://localhost:8000/api/person";fetch(e).then(function(t){return t.json()}).then(function(e){for(var i=[],n=e.length,a=0;a<n;a++){var o=e[a],r=[o.first_name,o.second_name,o.last_name].join(" "),l=o.birthday.split("-").reverse().join("."),s=["Пол:",o.sex,"Дата рождения:",l].join(" ");i.push({icon:"person",iconClass:"blue white--text",title:r,subtitle:s,id:e[a].id})}t.items=i})}},z=D,G=i("8860"),H=Object(f["a"])(z,l,s,!1,null,null,null);H.options.__file="PersonsList.vue";var K=H.exports;p()(H,{VBtn:b["a"],VContainer:O["a"],VIcon:h["a"],VLayout:q["a"],VList:G["a"]});var N={name:"App",components:{PersonsList:K},data:function(){return{}}},Q=N,U=i("7496"),W=i("549c"),X=i("706c"),Y=Object(f["a"])(Q,o,r,!1,null,null,null);Y.options.__file="App.vue";var Z=Y.exports;p()(Y,{VApp:U["a"],VBtn:b["a"],VContent:W["a"],VIcon:h["a"],VLayout:q["a"],VSpacer:F["a"],VToolbar:B["a"],VToolbarSideIcon:X["a"],VToolbarTitle:E["b"]}),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(Z)}}).$mount("#app")}});
//# sourceMappingURL=app.ea2bfc93.js.map